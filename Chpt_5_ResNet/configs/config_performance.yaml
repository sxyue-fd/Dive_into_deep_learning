# ResNet18 CIFAR-10 æ€§èƒ½è°ƒä¼˜é…ç½®æ–‡ä»¶
# =============================================================================
# ğŸš€ è®­ç»ƒ/è¯„ä¼°æ¨¡å¼è®¾ç½®
# =============================================================================

# è¿è¡Œæ¨¡å¼
run_mode:
  mode: "train"  # "train" æˆ– "evaluate"
  model_path: "outputs/models/best.pth"  # è¯„ä¼°æ¨¡å¼ä¸‹çš„æ¨¡å‹è·¯å¾„
  resume_path: null  # æ¢å¤è®­ç»ƒçš„æ£€æŸ¥ç‚¹è·¯å¾„

# =============================================================================
# ğŸ¯ è®­ç»ƒåœºæ™¯é€‰æ‹©
# =============================================================================

# ğŸ¯ è®­ç»ƒåœºæ™¯é€‰æ‹© (ä¿®æ”¹æ­¤å¤„åˆ‡æ¢ä¸åŒçš„æ€§èƒ½é¢„è®¾)
performance_preset: "baseline"  # å¯é€‰: "quick_test", "baseline"

# =============================================================================
# ğŸ›ï¸ æ€§èƒ½è°ƒä¼˜é¢„è®¾é…ç½®
# =============================================================================
performance_presets:
  # åœºæ™¯1: å¿«é€Ÿæµ‹è¯• - ç”¨äºå¿«é€ŸéªŒè¯ä»£ç å’Œæ¨¡å‹ç»“æ„
  quick_test:
    description: "å¿«é€Ÿæµ‹è¯• - éªŒè¯ä»£ç å’ŒåŸºæœ¬åŠŸèƒ½"
    epochs: 3
    batch_size: 256
    learning_rate: 0.01
    weight_decay: 1e-4
    target_accuracy: 0.70
    early_stopping_patience: 3
    scheduler: "step"
    optimizer: "adam"
    mixed_precision: true
    num_workers: 0
    log_frequency: 20
    save_frequency: 2
    
  # åœºæ™¯2: åŸºå‡†éªŒè¯ - æ ‡å‡†æ€§èƒ½åŸºå‡†æµ‹è¯•
  baseline:
    description: "åŸºå‡†éªŒè¯ - æ ‡å‡†æ€§èƒ½å’Œå¤ç°æ€§éªŒè¯"
    epochs: 100
    batch_size: 512
    learning_rate: 0.001
    weight_decay: 1e-4
    target_accuracy: 0.93
    early_stopping_patience: 10
    scheduler: "cosine"
    optimizer: "adam"
    mixed_precision: true
    num_workers: 0
    log_frequency: 20
    save_frequency: 5

# =============================================================================
# ğŸ“Š é«˜çº§æ€§èƒ½å‚æ•°
# =============================================================================
advanced_performance:
  # æ•°æ®å¢å¼ºå¼ºåº¦ - ä¸­ç­‰å¼ºåº¦
  augmentation_strength: "medium"
  augmentation_configs:
    medium:
      random_horizontal_flip: 0.5
      random_crop_padding: 4
  
  # ä¼˜åŒ–å™¨å‚æ•°
  optimizer_configs:
    adam:
      betas: [0.9, 0.999]
      eps: 1e-8
    sgd:
      momentum: 0.9
      nesterov: true
  
  # è°ƒåº¦å™¨å‚æ•°
  scheduler_configs:
    cosine:
      T_max: 100
      eta_min: 1e-6
    step:
      step_size: 30
      gamma: 0.1

# =============================================================================
# ğŸ—ï¸ åŸºç¡€é…ç½® (é€šå¸¸ä¸éœ€è¦ä¿®æ”¹)
# =============================================================================

# æ•°æ®é…ç½®
data:
  dataset: "cifar10"
  data_root: "./data/raw"
  validation_split: 0.2
  shuffle: true
  pin_memory: true
  transforms:
    train:
      random_horizontal_flip: 0.5
      random_crop:
        size: 32
        padding: 4
    normalize:
      mean: [0.485, 0.456, 0.406]
      std: [0.229, 0.224, 0.225]

# æ¨¡å‹é…ç½®
model:
  name: "resnet18"
  num_classes: 10
  input_channels: 3
  resnet:
    block_type: "basic"
    layers: [2, 2, 2, 2]
    initial_channels: 64
    use_pretrained: false

# è®­ç»ƒç›‘æ§
training_monitoring:
  early_stopping:
    min_delta: 0.001
    monitor: "val_loss"
    mode: "min"
  convergence:
    patience: 10
    threshold: 1e-5
  overfitting:
    patience: 5
    train_val_gap_threshold: 0.1

# ä¿å­˜è®¾ç½®
checkpoint:
  save_best: true
  save_last: true
  monitor: "val_accuracy"
  mode: "max"

# æ—¥å¿—è®¾ç½®
logging:
  level: "INFO"

# è®¾å¤‡è®¾ç½®
device:
  use_cuda: true

# è¾“å‡ºè·¯å¾„
paths:
  logs: "outputs/logs"
  models: "outputs/models"
  visualizations: "outputs/visualizations"

# éšæœºç§å­
random_seed: 42

# å¯è§†åŒ–è®¾ç½®
visualization: {}

# =============================================================================
# ğŸ“ ä½¿ç”¨è¯´æ˜
# =============================================================================
# 
# ğŸš€ å¿«é€Ÿå¼€å§‹:
# 1. ä¿®æ”¹ run_mode.mode é€‰æ‹©è¿è¡Œæ¨¡å¼ ("train" æˆ– "evaluate")
# 2. ä¿®æ”¹ performance_preset é€‰æ‹©è®­ç»ƒåœºæ™¯
# 3. è¿è¡Œè®­ç»ƒ: python src/main.py
# 
# ğŸ“Š åœºæ™¯è¯´æ˜:
# - quick_test: 3è½®å¿«é€ŸéªŒè¯ï¼Œé€‚åˆè°ƒè¯•ä»£ç 
# - baseline: 20è½®æ ‡å‡†è®­ç»ƒï¼Œé€‚åˆæ€§èƒ½åŸºå‡†
# 
# ğŸ›ï¸ è¯„ä¼°æ¨¡å¼:
# 1. è®¾ç½® run_mode.mode ä¸º "evaluate"
# 2. è®¾ç½® run_mode.model_path ä¸ºè¦è¯„ä¼°çš„æ¨¡å‹è·¯å¾„
# 3. è¿è¡Œ: python src/main.py
# 
# âš ï¸ æ³¨æ„äº‹é¡¹:
# - æ•°æ®å¢å¼ºå·²å›ºå®šä¸ºä¸­ç­‰å¼ºåº¦
# - æ—©åœæœºåˆ¶å‚æ•°å¯é€šè¿‡é¢„è®¾é…ç½®è°ƒæ•´
# - å»ºè®®å…ˆç”¨ quick_test éªŒè¯ï¼Œå†ç”¨ baseline è®­ç»ƒ
# 
# =============================================================================
